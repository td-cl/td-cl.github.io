<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="index.css">    
    <script src="index.js"></script>
    <title> TD CL Photography </title>
  </head>
  <body>
    <h1 class="title">Photography</h1>
    <div class= "imageGrid">
      <div class="flip-card">
        <img class="image front" src="images/TD-CLAgropli.jpg">
        <div class="description back opacity-0">
          <span>The Agropoli Port, Salerno, Italy</span>
          <span>TD-CL</span>
        </div>
      </div>
      <div class="flip-card">
        <img class="image front" src="images/TD-CLColosseum.jpg">
        <div class="description back">
          <span>The Colosseum, Rome, Italy</span>
          <span>TD-CL</span>
        </div>
      </div>
      <div class="flip-card">
        <img class="image front" src="images/TD-CLAmalfi Coast.jpg">
        <div class="description back">
          <span>The Amalfi Coast, Amalfi, Italy</span>
          <span>TD-CL</span>
        </div>
      </div>
      <div class="flip-card">
        <img class="image front" src="images/TD-CLJapaneseMaple.jpg">
        <div class="description back">
          <span>An aged japanese maple tree captured in autumn</span>
          <span>TD-CL</span>
        </div>
      </div>
      <div class="flip-card">
        <img class="image front" src="images/TD-CLCottageSunset.jpg">
        <div class="description back">
          <span>Sunset overlooking the Rivière Rouge, Québéc</span>\
          <span>TD-CL</span>
        </div>
      </div>
    </div>
  </body>
  <script src="index.js">
    Array.prototype.forEach.call(document.getElementsByClassName('flip-card'), (flipCard) => {
        const image = flipCard.getElementsByClassName('image')[0]
        const description = flipCard.getElementsByClassName('description')[0]
        const handleFlippedToBack = () => {
          flipCard.className = 'flip-card flipped'
          description.className = 'description front'
          image.className = 'image back opacity-0'
        }
        const handleFlippedToFront = () => {
          flipCard.className = 'flip-card'
          image.className = 'image front'
          description.className = 'description back opacity-0'
        }
        flipCard.addEventListener('click', () => {
          if (flipCard.className.includes('flipped')) {
            flipCard.removeEventListener('animationend', handleFlippedToBack)
            flipCard.addEventListener('animationend', handleFlippedToFront)
            flipCard.className = `${flipCard.className} flip-to-front`
            description.className = `${description.className} flip-front`
            image.className = 'image back'
          } else {
            flipCard.removeEventListener('animationend', handleFlippedToFront)
            flipCard.addEventListener('animationend', handleFlippedToBack)
            flipCard.className = `${flipCard.className} flip-to-back`
            image.className = `${image.className} flip-front`
            description.className = 'description back'
          }
        })
      })
  </script>
</html>
